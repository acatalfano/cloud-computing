---
#
# EECS 5287: Principles of Cloud Computing
# Author: Adam Catalfano
# Created: Fall 2021
#
# Build docker image, tag and push to private registry
#
# REQUIRES: containers_directory, registry_ip
#

- name: Build matinv-server image
  community.docker.docker_image:
    name: 'matinv-server'
    repository: "{{ registry_ip }}:5000/matinv-server"
    build:
      path: "{{ containers_directory }}/Service_Job"
      dockerfile: ./dockerfile_server
    source: build
    push: yes
...
